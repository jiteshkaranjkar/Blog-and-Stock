<h1 class="page-header">
  Login Page
</h1>
<div class="row show-hide-message">
    <div [ngClass]="messageClass">
        {{message}}
    </div>
</div>

<form [formGroup]="loginFrmGrp" (ngSubmit)="submitLogin(loginFrmGrp.value)">
  <div class="form-group">
    <div [ngClass]="{'has-error':(loginFrmGrp.controls.username.errors && loginFrmGrp.controls.username.dirty),
                            'has-success':(!loginFrmGrp.controls.username.errors)}">
    <label  for="username" >Username</label>
      <input type="text" name="username" class="form-control" placeholder="*Username" formControlName="username" required/>
      <ul class="help-block">
        <li *ngIf="loginFrmGrp.controls.username.errors?.required && loginFrmGrp.controls.username.dirty" class="error">Username is required</li>
        <li *ngIf="loginFrmGrp.controls.username.errors?.pattern && loginFrmGrp.controls.username.dirty" class="error">Username has invalid charachters</li>
        <li *ngIf="(loginFrmGrp.controls.username.errors?.minlength || loginFrmGrp.controls.username.errors?.maxlength) && loginFrmGrp.controls.username.dirty" class="error">Minimum characters = 3, Maximum characters: 15</li>
      </ul>
    </div>
    <div class="form-group">
      <div [ngClass]="{'has-error':(loginFrmGrp.controls.password.errors && loginFrmGrp.controls.password.dirty), 
                              'has-success':(!loginFrmGrp.controls.password.errors)}">
      <label for="password">Password</label>
      <input type="password" name="password" class="form-control" placeholder="*Password" formControlName="password" required/>
      <ul class="help-block">
        <li *ngIf="loginFrmGrp.controls.password.errors?.required && loginFrmGrp.controls.password.dirty" class="error">Password is required</li>
        <li *ngIf="loginFrmGrp.controls.password.errors?.pattern && loginFrmGrp.controls.password.dirty" class="error">Password has invalid charachters</li>
        <li *ngIf="(loginFrmGrp.controls.password.errors?.minlength || loginFrmGrp.controls.password.errors?.maxlength) && loginFrmGrp.controls.password.dirty" class="error">Minimum characters = 6, Maximum characters: 15</li>
      </ul>
      </div>
    </div>
    <button type="submit" class="btn btn-default" [disabled]="!loginFrmGrp.valid || processing">Submit</button>
    <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
  </div>
</form>